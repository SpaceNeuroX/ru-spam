<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Сообщения</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
.message { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
</style>
</head>
<body>
<div id="messages"></div>
<script>
function getParam(name) {
  return new URLSearchParams(window.location.search).get(name)
}
function renderMessages(data) {
  const container = document.getElementById("messages")
  data.forEach(item => {
    const div = document.createElement("div")
    div.className = "message"
    div.innerHTML = `<p><strong>Сообщение:</strong> ${item.message}</p>
                     <p><strong>Вероятность:</strong> ${item.confidence}</p>
                     <p><strong>Время:</strong> ${item.timestamp}</p>`
    container.appendChild(div)
  })
}
const dataParam = getParam("data")
if(dataParam) {
  try {
    const data = JSON.parse(decodeURIComponent(dataParam))
    renderMessages(data)
  } catch(e) {
    document.getElementById("messages").textContent = "Неверный формат данных"
  }
} else {
  document.getElementById("messages").textContent = "Нет данных"
}
</script>
</body>
</html>
